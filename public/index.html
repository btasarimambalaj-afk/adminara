<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="HayDay oyunu için canlı video destek hattı. Anında görüntülü bağlantı kurun!" />
  <meta name="theme-color" content="#3498db" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="HayDay Destek" />
  <link rel="manifest" href="/manifest.json" />
  <title>HayDay Destek Hattı - Canlı Video Destek</title>
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="css/components/hero.css" />
  <link rel="stylesheet" href="css/mobile.css" />
  <link rel="stylesheet" href="css/accessibility.css" />
  <link rel="stylesheet" href="css/toast.css" />
  <style>
    .lang-selector {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
      background: rgba(255,255,255,0.95);
      padding: 8px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .lang-selector select {
      border: 1px solid #ddd;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
    }
    [dir="rtl"] .lang-selector { right: auto; left: 10px; }
  </style>
</head>
<body>
  <div class="lang-selector">
    <select id="langSelector" aria-label="Language">
      <option value="tr">🇹🇷 Türkçe</option>
      <option value="en">🇬🇧 English</option>
      <option value="de">🇩🇪 Deutsch</option>
      <option value="ar">🇸🇦 العربية</option>
    </select>
  </div>
  <div class="hero-wrapper" id="welcomeWrapper">
    <div class="brand">
      <div class="brand-badge">📞</div>
      <div class="brand-name" data-i18n="welcome.title">Profesyonel Destek Merkezi</div>
    </div>

    <div class="card">
      <p data-i18n="welcome.subtitle">Uzman ekibimizle anında güvenli bağlantı kurun.</p>
      <div class="support-info">👨💼 Destek: <strong>Muhsin</strong></div>
      <input type="text" id="welcomeNameInput" data-i18n-placeholder="welcome.namePlaceholder" placeholder="Adınız" maxlength="50" autocomplete="name" />
      <button id="startCallBtn" data-i18n="welcome.callButton" disabled>Görüşmeyi Başlat</button>
    </div>

    <footer>
      <div class="legal">
        🔒 TLS/SSL şifreleme | 🛡️ Veri koruması | 📜 KVKK/GDPR uyumlu
      </div>
    </footer>
  </div>

  <div id="callScreen" class="container hidden">
    <div class="phone-interface">
      <div class="status-bar">
        <span id="connection-status" data-i18n="call.connecting">Bağlanıyor...</span>
        <span class="privacy-note">🔒 Şifreli</span>
      </div>

      <div class="video-container">
        <video id="remoteVideo" autoplay playsinline></video>
        <video id="localVideo" autoplay playsinline muted></video>
        
        <button id="exitFullscreenBtn" class="exit-fullscreen-btn" title="Tam Ekrandan Çık">⛶</button>
        
        <div id="callInfo" class="call-info-center hidden">
          <div class="info-line">👨💼 Muhsin</div>
          <div class="info-line" id="callTime">--:--</div>
          <div class="info-line" id="callDuration">00:00</div>
        </div>

        <div id="waiting-message" class="status-message hidden">
          <div class="spinner"></div>
          <p data-i18n="call.waiting">Destek hattına bağlanılıyor...</p>
          <p class="subtext" id="queueStatus"></p>
        </div>

        <div id="error-message" class="status-message hidden">
          <div class="icon">⚠️</div>
          <p id="error-text" data-i18n="call.error">Bağlantı hatası</p>
          <button id="retry-button" class="btn secondary" data-i18n="call.retry">Tekrar Dene</button>
        </div>

        <div id="busy-message" class="status-message hidden">
          <div class="icon">⏳</div>
          <p data-i18n="call.busy">Şu an meşgulüz</p>
          <p class="subtext">Lütfen daha sonra tekrar deneyin</p>
        </div>

        <div id="call-ended-message" class="status-message hidden">
          <div class="icon">📞</div>
          <p data-i18n="call.ended">Görüşme sonlandı</p>
          <button id="reconnect-button" class="btn secondary">Tekrar Bağlan</button>
        </div>
      </div>

      <div class="controls">
        <input type="hidden" id="customerName" />
        <button id="callButton" class="hidden"></button>
        <button id="endButton" class="btn end-btn hidden"><span data-i18n="call.end">Bitir</span></button>

        <div class="control-buttons hidden">
          <button id="muteButton" class="btn control-btn" title="Mikrofon">🎙️</button>
          <button id="cameraButton" class="btn control-btn active" title="Kamera">📵</button>
          <button id="speakerButton" class="btn control-btn" title="Hoparlör">🔈</button>
          <button id="fullscreenButton" class="btn control-btn" title="Tam Ekran">⛶</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="js/i18n-helper.js"></script>
  <script src="js/toast.js"></script>
  <script>
    // Initialize i18n
    window.addEventListener('DOMContentLoaded', async () => {
      await i18n.init();
      const langSelector = document.getElementById('langSelector');
      langSelector.value = i18n.currentLang;
      langSelector.addEventListener('change', (e) => {
        i18n.changeLanguage(e.target.value);
      });
    });
  </script>
  <script src="js/offline-handler.js"></script>
  <script src="js/warmup.js"></script>
  <script src="js/accessibility.js"></script>
  <script src="js/perfect-negotiation.js"></script>
  <script src="js/connection-monitor.js"></script>
  <script src="js/adaptive-quality.js"></script>
  <script src="js/helpers.js"></script>
  <script src="js/webrtc.js"></script>
  <script src="js/queue-ui.js"></script>
  <script src="js/client.js"></script>
  <script src="js/customer-app.js"></script>
</body>
</html>
