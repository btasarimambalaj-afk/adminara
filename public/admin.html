<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>HayDay Admin Paneli</title>
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="css/components/hero.css" />
  <link rel="stylesheet" href="css/components/admin.css" />
  <link rel="stylesheet" href="css/mobile.css" />
  <link rel="stylesheet" href="css/accessibility.css" />
  <link rel="stylesheet" href="css/toast.css" />
</head>
<body>
  <div class="hero-wrapper" id="welcomeScreen">
    <div class="brand">
      <div class="brand-badge">🔐</div>
      <div class="brand-name">Admin Paneli</div>
    </div>

    <div class="card">
      <p>Telegram üzerinden aldığınız 6 haneli kodu girin.</p>
      <button id="requestOtpBtn" class="ready">Kod Gönder</button>
      
      <div id="otpInputSection" class="hidden">
        <input id="otpInput" type="text" inputmode="numeric" maxlength="6" placeholder="6 haneli kod" />
        <button id="verifyOtpBtn" disabled>Panele Gir</button>
      </div>
      
      <p id="otpError" class="hidden error-text"></p>
      <p id="otpSuccess" class="hidden success-text">Kod gönderildi!</p>
    </div>

    <footer>
      <button id="reloadBtn" class="btn secondary">🔄 Yenile</button>
    </footer>
  </div>

  <div id="adminPanel" class="container hidden">
    <div class="phone-interface admin-interface">
      <div class="status-bar">
        <span>HayDay Admin Paneli</span>
        <button id="refreshButton" class="refresh-btn" title="Sayfayı Yenile">🔄</button>
      </div>

      <div class="video-container">
        <video id="remoteVideo" autoplay playsinline></video>
        <video id="localVideo" autoplay playsinline muted></video>
        
        <button id="exitFullscreenBtn" class="exit-fullscreen-btn" title="Tam Ekrandan Çık">⛶</button>
        <button id="diagnosticsToggle" class="diagnostics-toggle" title="Diagnostics">📊</button>
        
        <div id="diagnosticsPanel" class="diagnostics-panel hidden">
          <div class="diagnostics-title">📊 Bağlantı Durumu</div>
          <div class="diagnostics-row">
            <span class="diagnostics-label">RTT:</span>
            <span class="diagnostics-value" id="diagRTT">--</span>
          </div>
          <div class="diagnostics-row">
            <span class="diagnostics-label">Packet Loss:</span>
            <span class="diagnostics-value" id="diagPacketLoss">--</span>
          </div>
          <div class="diagnostics-row">
            <span class="diagnostics-label">Jitter:</span>
            <span class="diagnostics-value" id="diagJitter">--</span>
          </div>
          <div class="diagnostics-row">
            <span class="diagnostics-label">Bağlantı:</span>
            <span class="diagnostics-value" id="diagConnection">--</span>
          </div>
          <div class="diagnostics-row">
            <span class="diagnostics-label">ICE:</span>
            <span class="diagnostics-value" id="diagICE">--</span>
          </div>
        </div>
        
        <div id="callInfo" class="call-info-center hidden">
          <div class="info-line" id="customerNameDisplay">👤 Müşteri</div>
          <div class="info-line" id="callTime">--:--</div>
          <div class="info-line" id="callDuration">00:00</div>
        </div>
        
        <div id="waiting-message" class="status-message hidden">
          <div class="spinner"></div>
          <p>Müşteri bekleniyor...</p>
        </div>
      </div>

      <div class="controls">
        <button id="endButton" class="btn end-btn hidden">📴 Bitir</button>
        
        <div class="control-buttons hidden" id="controlButtons">
          <button id="muteButton" class="btn control-btn" title="Mikrofon">🎙️</button>
          <button id="cameraButton" class="btn control-btn active" title="Kamera">📵</button>
          <button id="speakerButton" class="btn control-btn" title="Hoparlör">🔈</button>
          <button id="fullscreenButton" class="btn control-btn" title="Tam Ekran">⛶</button>
          <button id="restartICEButton" class="btn control-btn" title="Yeniden Başlat">🔄</button>
          <button id="testButton" class="btn control-btn" title="Test">🧪</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="js/toast.js"></script>
  <script src="js/warmup.js"></script>
  <script src="js/accessibility.js"></script>
  <script src="js/perfect-negotiation.js"></script>
  <script src="js/connection-monitor.js"></script>
  <script src="js/helpers.js"></script>
  <script src="js/webrtc.js"></script>
  <script src="js/admin-app.js"></script>
</body>
</html>
